{"C:\\Users\\TOSHIBA\\Documents\\Papel\\server\\routes\\routes.js":{"path":"C:\\Users\\TOSHIBA\\Documents\\Papel\\server\\routes\\routes.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":7,"column":15},"end":{"line":7,"column":33}},"2":{"start":{"line":9,"column":16},"end":{"line":9,"column":46}},"3":{"start":{"line":11,"column":17},"end":{"line":11,"column":50}},"4":{"start":{"line":13,"column":24},"end":{"line":13,"column":53}},"5":{"start":{"line":15,"column":25},"end":{"line":15,"column":66}},"6":{"start":{"line":17,"column":20},"end":{"line":17,"column":58}},"7":{"start":{"line":19,"column":21},"end":{"line":19,"column":58}},"8":{"start":{"line":21,"column":16},"end":{"line":21,"column":50}},"9":{"start":{"line":23,"column":17},"end":{"line":23,"column":50}},"10":{"start":{"line":25,"column":13},"end":{"line":25,"column":44}},"11":{"start":{"line":27,"column":14},"end":{"line":27,"column":44}},"12":{"start":{"line":29,"column":15},"end":{"line":29,"column":48}},"13":{"start":{"line":31,"column":16},"end":{"line":31,"column":48}},"14":{"start":{"line":33,"column":39},"end":{"line":33,"column":93}},"15":{"start":{"line":35,"column":10},"end":{"line":35,"column":32}},"16":{"start":{"line":37,"column":22},"end":{"line":37,"column":51}},"17":{"start":{"line":39,"column":0},"end":{"line":39,"column":55}},"18":{"start":{"line":40,"column":0},"end":{"line":40,"column":72}},"19":{"start":{"line":41,"column":0},"end":{"line":43,"column":3}},"20":{"start":{"line":42,"column":2},"end":{"line":42,"column":31}},"21":{"start":{"line":44,"column":0},"end":{"line":44,"column":88}},"22":{"start":{"line":45,"column":0},"end":{"line":45,"column":102}},"23":{"start":{"line":46,"column":0},"end":{"line":46,"column":88}},"24":{"start":{"line":47,"column":0},"end":{"line":47,"column":124}},"25":{"start":{"line":48,"column":0},"end":{"line":48,"column":106}},"26":{"start":{"line":49,"column":0},"end":{"line":49,"column":98}},"27":{"start":{"line":50,"column":0},"end":{"line":50,"column":51}},"28":{"start":{"line":51,"column":0},"end":{"line":51,"column":98}},"29":{"start":{"line":52,"column":0},"end":{"line":52,"column":51}},"30":{"start":{"line":53,"column":0},"end":{"line":53,"column":102}},"31":{"start":{"line":54,"column":0},"end":{"line":54,"column":91}},"32":{"start":{"line":55,"column":0},"end":{"line":55,"column":104}},"33":{"start":{"line":56,"column":0},"end":{"line":56,"column":109}},"34":{"start":{"line":57,"column":0},"end":{"line":57,"column":111}},"35":{"start":{"line":58,"column":0},"end":{"line":60,"column":3}},"36":{"start":{"line":59,"column":2},"end":{"line":59,"column":63}},"37":{"start":{"line":61,"column":0},"end":{"line":63,"column":3}},"38":{"start":{"line":62,"column":2},"end":{"line":62,"column":63}},"39":{"start":{"line":64,"column":0},"end":{"line":66,"column":3}},"40":{"start":{"line":65,"column":2},"end":{"line":65,"column":63}},"41":{"start":{"line":68,"column":0},"end":{"line":68,"column":22}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":33,"column":9},"end":{"line":33,"column":31}},"loc":{"start":{"line":33,"column":37},"end":{"line":33,"column":95}},"line":33},"1":{"name":"(anonymous_1)","decl":{"start":{"line":41,"column":13},"end":{"line":41,"column":14}},"loc":{"start":{"line":41,"column":33},"end":{"line":43,"column":1}},"line":41},"2":{"name":"(anonymous_2)","decl":{"start":{"line":58,"column":13},"end":{"line":58,"column":14}},"loc":{"start":{"line":58,"column":33},"end":{"line":60,"column":1}},"line":58},"3":{"name":"(anonymous_3)","decl":{"start":{"line":61,"column":14},"end":{"line":61,"column":15}},"loc":{"start":{"line":61,"column":34},"end":{"line":63,"column":1}},"line":61},"4":{"name":"(anonymous_4)","decl":{"start":{"line":64,"column":16},"end":{"line":64,"column":17}},"loc":{"start":{"line":64,"column":36},"end":{"line":66,"column":1}},"line":64}},"branchMap":{"0":{"loc":{"start":{"line":33,"column":46},"end":{"line":33,"column":92}},"type":"cond-expr","locations":[{"start":{"line":33,"column":70},"end":{"line":33,"column":73}},{"start":{"line":33,"column":76},"end":{"line":33,"column":92}}],"line":33},"1":{"loc":{"start":{"line":33,"column":46},"end":{"line":33,"column":67}},"type":"binary-expr","locations":[{"start":{"line":33,"column":46},"end":{"line":33,"column":49}},{"start":{"line":33,"column":53},"end":{"line":33,"column":67}}],"line":33}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":6,"15":1,"16":1,"17":1,"18":1,"19":1,"20":23,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":5,"37":1,"38":1,"39":1,"40":1,"41":1},"f":{"0":6,"1":23,"2":5,"3":1,"4":1},"b":{"0":[5,1],"1":[6,6]},"inputSourceMap":{"version":3,"sources":["routes.js"],"names":["app","swaggerDocument","require","use","swaggerUI","serve","get","setup","req","res","send","Validate","verifyToken","TransactionsController","getAll","getId","AccountsController","getAllAccounts","getAccountTransactions","getAccountDetails","UsersControllers","getUserAccounts","post","ActionControllers","signUp","createBankAccount","signIn","patch","setNewStatus","setPriviledge","delete","deleteAccount","debit","credit"],"mappings":";;;;;;AAAA;;AAEA;;;;AACA;;;;AAGA;;;;AACA;;;;AACA;;;;AACA;;;;;;AARA,IAAMA,MAAM,sBAAZ;;AAGA,IAAIC,kBAAkBC,QAAQ,oBAAR,CAAtB;;AAQAF,IAAIG,GAAJ,CAAQ,WAAR,EAAqBC,2BAAUC,KAA/B;AACAL,IAAIM,GAAJ,CAAQ,WAAR,EAAqBF,2BAAUG,KAAV,CAAgBN,eAAhB,CAArB;AACAD,IAAIM,GAAJ,CAAQ,GAAR,EAAa,UAACE,GAAD,EAAMC,GAAN,EAAc;AAAEA,MAAIC,IAAJ,CAAS,kBAAT;AAA8B,CAA3D;AACAV,IAAIM,GAAJ,CAAQ,eAAR,EAAyBK,mBAASC,WAAlC,EAA+CC,uBAAuBC,MAAtE;AACAd,IAAIM,GAAJ,CAAQ,8BAAR,EAAwCK,mBAASC,WAAjD,EAA8DC,uBAAuBE,KAArF;AACAf,IAAIM,GAAJ,CAAQ,WAAR,EAAqBK,mBAASC,WAA9B,EAA2CI,mBAAmBC,cAA9D;AACAjB,IAAIM,GAAJ,CAAQ,uCAAR,EAAiDK,mBAASC,WAA1D,EAAuEI,mBAAmBE,sBAA1F;AACAlB,IAAIM,GAAJ,CAAQ,0BAAR,EAAoCK,mBAASC,WAA7C,EAA0DI,mBAAmBG,iBAA7E;AACAnB,IAAIM,GAAJ,CAAQ,uBAAR,EAAiCK,mBAASC,WAA1C,EAAuDQ,gBAAiBC,eAAxE;AACArB,IAAIsB,IAAJ,CAAS,cAAT,EAAyBC,kBAAkBC,MAA3C;AACAxB,IAAIsB,IAAJ,CAAS,kBAAT,EAA6BX,mBAASC,WAAtC,EAAmDW,kBAAkBE,iBAArE;AACAzB,IAAIsB,IAAJ,CAAS,cAAT,EAAyBC,kBAAkBG,MAA3C;AACA1B,IAAI2B,KAAJ,CAAU,0BAAV,EAAsChB,mBAASC,WAA/C,EAA4DW,kBAAkBK,YAA9E;AACA5B,IAAI2B,KAAJ,CAAU,cAAV,EAA0BhB,mBAASC,WAAnC,EAAgDW,kBAAkBM,aAAlE;AACA7B,IAAI8B,MAAJ,CAAW,0BAAX,EAAuCnB,mBAASC,WAAhD,EAA6DW,kBAAkBQ,aAA/E;AACA/B,IAAIsB,IAAJ,CAAS,oCAAT,EAA+CX,mBAASC,WAAxD,EAAqEC,uBAAuBmB,KAA5F;AACAhC,IAAIsB,IAAJ,CAAS,qCAAT,EAAgDX,mBAASC,WAAzD,EAAsEC,uBAAuBoB,MAA7F;AACAjC,IAAIM,GAAJ,CAAQ,GAAR,EAAa,UAACE,GAAD,EAAMC,GAAN,EAAc;AAAEA,MAAIC,IAAJ,CAAS,kDAAT;AAA8D,CAA3F;AACAV,IAAIsB,IAAJ,CAAS,GAAT,EAAc,UAACd,GAAD,EAAMC,GAAN,EAAc;AAAEA,MAAIC,IAAJ,CAAS,kDAAT;AAA8D,CAA5F;AACAV,IAAI8B,MAAJ,CAAW,GAAX,EAAgB,UAACtB,GAAD,EAAMC,GAAN,EAAc;AAAEA,MAAIC,IAAJ,CAAS,kDAAT;AAA8D,CAA9F;;kBAEeV,G","file":"routes.js","sourceRoot":"C:/Users/TOSHIBA/Documents/Papel/server/routes","sourcesContent":["import { Router } from 'express';\r\nconst app = Router();\r\nimport Validate from '../helpers/validate'\r\nimport swaggerUI from 'swagger-ui-express'\r\nlet swaggerDocument = require('../../swagger.json')\r\n\r\nimport TransactionsController from '../controllers/transactions';\r\nimport AccountsController from '../controllers/accounts';\r\nimport UsersControllers from '../controllers/users';\r\nimport ActionControllers from '../controllers/actions'\r\n\r\n\r\napp.use('/api-docs', swaggerUI.serve);\r\napp.get('/api-docs', swaggerUI.setup(swaggerDocument));\r\napp.get(\"/\", (req, res) => { res.send(\"Welcome to papel\") });\r\napp.get('/transactions', Validate.verifyToken, TransactionsController.getAll);\r\napp.get('/transactions/:transactionid', Validate.verifyToken, TransactionsController.getId)\r\napp.get('/accounts', Validate.verifyToken, AccountsController.getAllAccounts)\r\napp.get('/accounts/:accountnumber/transactions', Validate.verifyToken, AccountsController.getAccountTransactions)\r\napp.get('/accounts/:accountnumber', Validate.verifyToken, AccountsController.getAccountDetails)\r\napp.get('/user/:email/accounts', Validate.verifyToken, UsersControllers.getUserAccounts)\r\napp.post('/auth/signup', ActionControllers.signUp)\r\napp.post('/accounts/create', Validate.verifyToken, ActionControllers.createBankAccount)\r\napp.post('/auth/signin', ActionControllers.signIn)\r\napp.patch('/accounts/:accountnumber', Validate.verifyToken, ActionControllers.setNewStatus)\r\napp.patch('/users/:type', Validate.verifyToken, ActionControllers.setPriviledge)\r\napp.delete('/accounts/:accountnumber', Validate.verifyToken, ActionControllers.deleteAccount)\r\napp.post('/transactions/:accountnumber/debit', Validate.verifyToken, TransactionsController.debit)\r\napp.post('/transactions/:accountnumber/credit', Validate.verifyToken, TransactionsController.credit)\r\napp.get('*', (req, res) => { res.send('The Page you are trying to access does not exist') })\r\napp.post('*', (req, res) => { res.send('The Page you are trying to access does not exist') })\r\napp.delete('*', (req, res) => { res.send('The Page you are trying to access does not exist') })\r\n\r\nexport default app;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1f63a4e2eb5b08a4d14c5d42db4955c3656ee63b","contentHash":"5d138234836274eba431ba39973c50b2a7da43a7a1c0866fc1e6c6c5c089ef10"},"C:\\Users\\TOSHIBA\\Documents\\Papel\\server\\helpers\\validate.js":{"path":"C:\\Users\\TOSHIBA\\Documents\\Papel\\server\\helpers\\validate.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":7,"column":19},"end":{"line":7,"column":563}},"2":{"start":{"line":7,"column":76},"end":{"line":7,"column":347}},"3":{"start":{"line":7,"column":89},"end":{"line":7,"column":90}},"4":{"start":{"line":7,"column":134},"end":{"line":7,"column":142}},"5":{"start":{"line":7,"column":144},"end":{"line":7,"column":199}},"6":{"start":{"line":7,"column":200},"end":{"line":7,"column":231}},"7":{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},"8":{"start":{"line":7,"column":259},"end":{"line":7,"column":286}},"9":{"start":{"line":7,"column":287},"end":{"line":7,"column":345}},"10":{"start":{"line":7,"column":350},"end":{"line":7,"column":559}},"11":{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},"12":{"start":{"line":7,"column":423},"end":{"line":7,"column":475}},"13":{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},"14":{"start":{"line":7,"column":493},"end":{"line":7,"column":536}},"15":{"start":{"line":7,"column":537},"end":{"line":7,"column":556}},"16":{"start":{"line":9,"column":20},"end":{"line":9,"column":43}},"17":{"start":{"line":11,"column":21},"end":{"line":11,"column":58}},"18":{"start":{"line":13,"column":15},"end":{"line":13,"column":47}},"19":{"start":{"line":15,"column":16},"end":{"line":15,"column":48}},"20":{"start":{"line":17,"column":39},"end":{"line":17,"column":93}},"21":{"start":{"line":19,"column":50},"end":{"line":19,"column":151}},"22":{"start":{"line":19,"column":92},"end":{"line":19,"column":149}},"23":{"start":{"line":21,"column":15},"end":{"line":54,"column":3}},"24":{"start":{"line":23,"column":8},"end":{"line":23,"column":40}},"25":{"start":{"line":26,"column":4},"end":{"line":51,"column":8}},"26":{"start":{"line":29,"column":24},"end":{"line":29,"column":53}},"27":{"start":{"line":31,"column":12},"end":{"line":33,"column":13}},"28":{"start":{"line":34,"column":12},"end":{"line":49,"column":13}},"29":{"start":{"line":35,"column":30},"end":{"line":35,"column":86}},"30":{"start":{"line":36,"column":29},"end":{"line":36,"column":51}},"31":{"start":{"line":37,"column":28},"end":{"line":37,"column":67}},"32":{"start":{"line":38,"column":27},"end":{"line":38,"column":35}},"33":{"start":{"line":40,"column":27},"end":{"line":40,"column":69}},"34":{"start":{"line":41,"column":27},"end":{"line":41,"column":36}},"35":{"start":{"line":43,"column":16},"end":{"line":45,"column":17}},"36":{"start":{"line":46,"column":16},"end":{"line":46,"column":23}},"37":{"start":{"line":53,"column":4},"end":{"line":53,"column":20}},"38":{"start":{"line":56,"column":0},"end":{"line":56,"column":27}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":19},"end":{"line":7,"column":20}},"loc":{"start":{"line":7,"column":31},"end":{"line":7,"column":561}},"line":7},"1":{"name":"defineProperties","decl":{"start":{"line":7,"column":42},"end":{"line":7,"column":58}},"loc":{"start":{"line":7,"column":74},"end":{"line":7,"column":349}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":7,"column":357},"end":{"line":7,"column":358}},"loc":{"start":{"line":7,"column":405},"end":{"line":7,"column":558}},"line":7},"3":{"name":"_interopRequireDefault","decl":{"start":{"line":17,"column":9},"end":{"line":17,"column":31}},"loc":{"start":{"line":17,"column":37},"end":{"line":17,"column":95}},"line":17},"4":{"name":"_classCallCheck","decl":{"start":{"line":19,"column":9},"end":{"line":19,"column":24}},"loc":{"start":{"line":19,"column":48},"end":{"line":19,"column":153}},"line":19},"5":{"name":"(anonymous_5)","decl":{"start":{"line":21,"column":15},"end":{"line":21,"column":16}},"loc":{"start":{"line":21,"column":27},"end":{"line":54,"column":1}},"line":21},"6":{"name":"Validate","decl":{"start":{"line":22,"column":13},"end":{"line":22,"column":21}},"loc":{"start":{"line":22,"column":24},"end":{"line":24,"column":5}},"line":22},"7":{"name":"verifyToken","decl":{"start":{"line":28,"column":30},"end":{"line":28,"column":41}},"loc":{"start":{"line":28,"column":58},"end":{"line":50,"column":9}},"line":28}},"branchMap":{"0":{"loc":{"start":{"line":7,"column":168},"end":{"line":7,"column":198}},"type":"binary-expr","locations":[{"start":{"line":7,"column":168},"end":{"line":7,"column":189}},{"start":{"line":7,"column":193},"end":{"line":7,"column":198}}],"line":7},"1":{"loc":{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},"type":"if","locations":[{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},{"start":{"line":7,"column":232},"end":{"line":7,"column":286}}],"line":7},"2":{"loc":{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},"type":"if","locations":[{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},{"start":{"line":7,"column":407},"end":{"line":7,"column":475}}],"line":7},"3":{"loc":{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},"type":"if","locations":[{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},{"start":{"line":7,"column":476},"end":{"line":7,"column":536}}],"line":7},"4":{"loc":{"start":{"line":17,"column":46},"end":{"line":17,"column":92}},"type":"cond-expr","locations":[{"start":{"line":17,"column":70},"end":{"line":17,"column":73}},{"start":{"line":17,"column":76},"end":{"line":17,"column":92}}],"line":17},"5":{"loc":{"start":{"line":17,"column":46},"end":{"line":17,"column":67}},"type":"binary-expr","locations":[{"start":{"line":17,"column":46},"end":{"line":17,"column":49}},{"start":{"line":17,"column":53},"end":{"line":17,"column":67}}],"line":17},"6":{"loc":{"start":{"line":19,"column":50},"end":{"line":19,"column":151}},"type":"if","locations":[{"start":{"line":19,"column":50},"end":{"line":19,"column":151}},{"start":{"line":19,"column":50},"end":{"line":19,"column":151}}],"line":19},"7":{"loc":{"start":{"line":31,"column":12},"end":{"line":33,"column":13}},"type":"if","locations":[{"start":{"line":31,"column":12},"end":{"line":33,"column":13}},{"start":{"line":31,"column":12},"end":{"line":33,"column":13}}],"line":31},"8":{"loc":{"start":{"line":43,"column":16},"end":{"line":45,"column":17}},"type":"if","locations":[{"start":{"line":43,"column":16},"end":{"line":45,"column":17}},{"start":{"line":43,"column":16},"end":{"line":45,"column":17}}],"line":43}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":0,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":2,"21":0,"22":0,"23":1,"24":0,"25":1,"26":12,"27":10,"28":10,"29":10,"30":10,"31":3,"32":3,"33":3,"34":0,"35":0,"36":0,"37":1,"38":1},"f":{"0":1,"1":1,"2":1,"3":2,"4":0,"5":1,"6":0,"7":12},"b":{"0":[1,1],"1":[1,0],"2":[0,1],"3":[1,0],"4":[1,1],"5":[2,2],"6":[0,0],"7":[7,3],"8":[0,0]},"inputSourceMap":{"version":3,"sources":["validate.js"],"names":["Validate","req","res","next","token","headers","decoded","jwt","decode","complete","userid","payload","userId","query","data","connect","rows","error"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;;;;;IAEMA,Q;;;;;;;0CAEuBC,G,EAAKC,G,EAAKC,I,EAAM;AACrC,gBAAMC,QAAQH,IAAII,OAAJ,CAAY,gBAAZ,CAAd;AACA;AACA,gBAAI,CAACD,KAAL,EAAY;AACR;AACH;AACD,gBAAI;AACA,oBAAME,UAAUC,uBAAIC,MAAJ,CAAWJ,KAAX,EAAkB,EAAEK,UAAU,IAAZ,EAAlB,CAAhB;AACA,oBAAMC,SAASJ,QAAQK,OAAR,CAAgBC,MAA/B;AACA,oBAAMC,QAAQ,uCAAd;AACA,oBAAMC,OAAO,CACTJ,MADS,CAAb;;AAJA,2BAOiB,MAAMK,kBAAQF,KAAR,CAAcA,KAAd,EAAqBC,IAArB,CAPvB;AAAA,oBAOQE,IAPR,QAOQA,IAPR;;AAQA,oBAAI,CAACA,KAAK,CAAL,CAAL,EAAc;AACV;AACH;AACDb;AACH,aAZD,CAYE,OAAOc,KAAP,EAAc;AACZ;AACH;AACJ;;;;;;kBAGUjB,Q","file":"validate.js","sourceRoot":"C:/Users/TOSHIBA/Documents/Papel/server/helpers","sourcesContent":["import jwt from 'jsonwebtoken';\r\nimport connect from '../middleware/connect';\r\n\r\nclass Validate {\r\n\r\n    static async verifyToken(req, res, next) {\r\n        const token = req.headers['x-access-token']\r\n        // const token = req.get('x-access-token')\r\n        if (!token) {\r\n            // return res.send({ 'message': 'Please provide a token' });\r\n        }\r\n        try {\r\n            const decoded = jwt.decode(token, { complete: true });\r\n            const userid = decoded.payload.userId\r\n            const query = 'SELECT * FROM users WHERE userid = $1';\r\n            const data = [\r\n                userid\r\n            ]\r\n            const { rows } = await connect.query(query, data);\r\n            if (!rows[0]) {\r\n                // return res.send({ 'message': 'No bank accounts linked with this email' });\r\n            }\r\n            next();\r\n        } catch (error) {\r\n            // return res.send(error);\r\n        }\r\n    }\r\n}\r\n\r\nexport default Validate;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"550bab1dde0766d270f7abc65854ecd16462cb96","contentHash":"8490ed010df95e29a4f8b35c294e8520badfd62fea6c5e405647dcc523257b34"},"C:\\Users\\TOSHIBA\\Documents\\Papel\\server\\middleware\\connect.js":{"path":"C:\\Users\\TOSHIBA\\Documents\\Papel\\server\\middleware\\connect.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":7,"column":10},"end":{"line":7,"column":23}},"2":{"start":{"line":9,"column":14},"end":{"line":9,"column":31}},"3":{"start":{"line":11,"column":15},"end":{"line":11,"column":46}},"4":{"start":{"line":13,"column":39},"end":{"line":13,"column":93}},"5":{"start":{"line":15,"column":0},"end":{"line":15,"column":26}},"6":{"start":{"line":17,"column":11},"end":{"line":21,"column":2}},"7":{"start":{"line":23,"column":0},"end":{"line":33,"column":2}},"8":{"start":{"line":25,"column":8},"end":{"line":31,"column":11}},"9":{"start":{"line":26,"column":12},"end":{"line":30,"column":15}},"10":{"start":{"line":27,"column":16},"end":{"line":27,"column":29}},"11":{"start":{"line":29,"column":16},"end":{"line":29,"column":28}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":13,"column":9},"end":{"line":13,"column":31}},"loc":{"start":{"line":13,"column":37},"end":{"line":13,"column":95}},"line":13},"1":{"name":"query","decl":{"start":{"line":24,"column":20},"end":{"line":24,"column":25}},"loc":{"start":{"line":24,"column":40},"end":{"line":32,"column":5}},"line":24},"2":{"name":"(anonymous_2)","decl":{"start":{"line":25,"column":27},"end":{"line":25,"column":28}},"loc":{"start":{"line":25,"column":54},"end":{"line":31,"column":9}},"line":25},"3":{"name":"(anonymous_3)","decl":{"start":{"line":26,"column":42},"end":{"line":26,"column":43}},"loc":{"start":{"line":26,"column":57},"end":{"line":28,"column":13}},"line":26},"4":{"name":"(anonymous_4)","decl":{"start":{"line":28,"column":21},"end":{"line":28,"column":22}},"loc":{"start":{"line":28,"column":36},"end":{"line":30,"column":13}},"line":28}},"branchMap":{"0":{"loc":{"start":{"line":13,"column":46},"end":{"line":13,"column":92}},"type":"cond-expr","locations":[{"start":{"line":13,"column":70},"end":{"line":13,"column":73}},{"start":{"line":13,"column":76},"end":{"line":13,"column":92}}],"line":13},"1":{"loc":{"start":{"line":13,"column":46},"end":{"line":13,"column":67}},"type":"binary-expr","locations":[{"start":{"line":13,"column":46},"end":{"line":13,"column":49}},{"start":{"line":13,"column":53},"end":{"line":13,"column":67}}],"line":13}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":4,"9":4,"10":0,"11":0},"f":{"0":1,"1":4,"2":4,"3":0,"4":0},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["connect.js"],"names":["dotenv","config","pool","Pool","connectionString","process","env","DATABASE_URL","ssl","rejectUnauthorized","query","text","params","Promise","resolve","reject","then","res","catch","err"],"mappings":";;;;;;AAAA;;AACA;;;;;;AAEAA,iBAAOC,MAAP;;AAEA,IAAMC,OAAO,IAAIC,QAAJ,CAAS;AAClBC,sBAAkBC,QAAQC,GAAR,CAAYC,YADZ;AAElBC,SAAK,IAFa;AAGlBC,wBAAoB;AAHF,CAAT,CAAb;;kBAMe;AAEXC,SAFW,iBAELC,IAFK,EAECC,MAFD,EAES;AAChB,eAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCb,iBAAKQ,KAAL,CAAWC,IAAX,EAAiBC,MAAjB,EACKI,IADL,CACU,UAACC,GAAD,EAAS;AACXH,wBAAQG,GAAR;AACH,aAHL,EAIKC,KAJL,CAIW,UAACC,GAAD,EAAS;AACZJ,uBAAOI,GAAP;AAEH,aAPL;AAQH,SATM,CAAP;AAUH;AAbU,C","file":"connect.js","sourceRoot":"C:/Users/TOSHIBA/Documents/Papel/server/middleware","sourcesContent":["import { Pool } from 'pg';\r\nimport dotenv from 'dotenv';\r\n\r\ndotenv.config();\r\n\r\nconst pool = new Pool({\r\n    connectionString: process.env.DATABASE_URL,\r\n    ssl: true,\r\n    rejectUnauthorized: false,\r\n});\r\n\r\nexport default {\r\n\r\n    query(text, params) {\r\n        return new Promise((resolve, reject) => {\r\n            pool.query(text, params)\r\n                .then((res) => {\r\n                    resolve(res);\r\n                })\r\n                .catch((err) => {\r\n                    reject(err);\r\n\r\n                })\r\n        })\r\n    }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"05e219afa369045c603e67f282a94a8febfdc920","contentHash":"775f2df5e8e1b6d61ec486b279a67749722b68939e399080134b3bb3dda5f38d"},"C:\\Users\\TOSHIBA\\Documents\\Papel\\server\\controllers\\transactions.js":{"path":"C:\\Users\\TOSHIBA\\Documents\\Papel\\server\\controllers\\transactions.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":7,"column":19},"end":{"line":7,"column":563}},"2":{"start":{"line":7,"column":76},"end":{"line":7,"column":347}},"3":{"start":{"line":7,"column":89},"end":{"line":7,"column":90}},"4":{"start":{"line":7,"column":134},"end":{"line":7,"column":142}},"5":{"start":{"line":7,"column":144},"end":{"line":7,"column":199}},"6":{"start":{"line":7,"column":200},"end":{"line":7,"column":231}},"7":{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},"8":{"start":{"line":7,"column":259},"end":{"line":7,"column":286}},"9":{"start":{"line":7,"column":287},"end":{"line":7,"column":345}},"10":{"start":{"line":7,"column":350},"end":{"line":7,"column":559}},"11":{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},"12":{"start":{"line":7,"column":423},"end":{"line":7,"column":475}},"13":{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},"14":{"start":{"line":7,"column":493},"end":{"line":7,"column":536}},"15":{"start":{"line":7,"column":537},"end":{"line":7,"column":556}},"16":{"start":{"line":9,"column":15},"end":{"line":9,"column":47}},"17":{"start":{"line":11,"column":16},"end":{"line":11,"column":48}},"18":{"start":{"line":13,"column":39},"end":{"line":13,"column":93}},"19":{"start":{"line":15,"column":50},"end":{"line":15,"column":151}},"20":{"start":{"line":15,"column":92},"end":{"line":15,"column":149}},"21":{"start":{"line":17,"column":29},"end":{"line":108,"column":3}},"22":{"start":{"line":19,"column":8},"end":{"line":19,"column":54}},"23":{"start":{"line":22,"column":4},"end":{"line":105,"column":8}},"24":{"start":{"line":26,"column":24},"end":{"line":26,"column":115}},"25":{"start":{"line":27,"column":23},"end":{"line":27,"column":47}},"26":{"start":{"line":29,"column":23},"end":{"line":29,"column":65}},"27":{"start":{"line":30,"column":23},"end":{"line":30,"column":32}},"28":{"start":{"line":32,"column":12},"end":{"line":32,"column":33}},"29":{"start":{"line":34,"column":12},"end":{"line":34,"column":209}},"30":{"start":{"line":36,"column":26},"end":{"line":36,"column":67}},"31":{"start":{"line":38,"column":25},"end":{"line":38,"column":133}},"32":{"start":{"line":40,"column":12},"end":{"line":47,"column":13}},"33":{"start":{"line":41,"column":28},"end":{"line":41,"column":72}},"34":{"start":{"line":42,"column":28},"end":{"line":42,"column":38}},"35":{"start":{"line":44,"column":16},"end":{"line":44,"column":54}},"36":{"start":{"line":46,"column":16},"end":{"line":46,"column":51}},"37":{"start":{"line":52,"column":24},"end":{"line":52,"column":115}},"38":{"start":{"line":53,"column":23},"end":{"line":53,"column":47}},"39":{"start":{"line":55,"column":24},"end":{"line":55,"column":66}},"40":{"start":{"line":56,"column":23},"end":{"line":56,"column":33}},"41":{"start":{"line":58,"column":12},"end":{"line":58,"column":33}},"42":{"start":{"line":60,"column":12},"end":{"line":60,"column":209}},"43":{"start":{"line":62,"column":26},"end":{"line":62,"column":67}},"44":{"start":{"line":64,"column":25},"end":{"line":64,"column":133}},"45":{"start":{"line":66,"column":12},"end":{"line":73,"column":13}},"46":{"start":{"line":67,"column":28},"end":{"line":67,"column":72}},"47":{"start":{"line":68,"column":29},"end":{"line":68,"column":39}},"48":{"start":{"line":70,"column":16},"end":{"line":70,"column":55}},"49":{"start":{"line":72,"column":16},"end":{"line":72,"column":81}},"50":{"start":{"line":78,"column":24},"end":{"line":78,"column":52}},"51":{"start":{"line":79,"column":12},"end":{"line":87,"column":13}},"52":{"start":{"line":80,"column":28},"end":{"line":80,"column":64}},"53":{"start":{"line":81,"column":27},"end":{"line":81,"column":37}},"54":{"start":{"line":82,"column":31},"end":{"line":82,"column":45}},"55":{"start":{"line":84,"column":16},"end":{"line":84,"column":80}},"56":{"start":{"line":86,"column":16},"end":{"line":86,"column":81}},"57":{"start":{"line":92,"column":24},"end":{"line":92,"column":66}},"58":{"start":{"line":93,"column":12},"end":{"line":103,"column":13}},"59":{"start":{"line":94,"column":28},"end":{"line":94,"column":81}},"60":{"start":{"line":95,"column":27},"end":{"line":95,"column":37}},"61":{"start":{"line":97,"column":16},"end":{"line":99,"column":17}},"62":{"start":{"line":98,"column":20},"end":{"line":98,"column":88}},"63":{"start":{"line":100,"column":16},"end":{"line":100,"column":53}},"64":{"start":{"line":102,"column":16},"end":{"line":102,"column":81}},"65":{"start":{"line":107,"column":4},"end":{"line":107,"column":34}},"66":{"start":{"line":110,"column":0},"end":{"line":110,"column":41}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":19},"end":{"line":7,"column":20}},"loc":{"start":{"line":7,"column":31},"end":{"line":7,"column":561}},"line":7},"1":{"name":"defineProperties","decl":{"start":{"line":7,"column":42},"end":{"line":7,"column":58}},"loc":{"start":{"line":7,"column":74},"end":{"line":7,"column":349}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":7,"column":357},"end":{"line":7,"column":358}},"loc":{"start":{"line":7,"column":405},"end":{"line":7,"column":558}},"line":7},"3":{"name":"_interopRequireDefault","decl":{"start":{"line":13,"column":9},"end":{"line":13,"column":31}},"loc":{"start":{"line":13,"column":37},"end":{"line":13,"column":95}},"line":13},"4":{"name":"_classCallCheck","decl":{"start":{"line":15,"column":9},"end":{"line":15,"column":24}},"loc":{"start":{"line":15,"column":48},"end":{"line":15,"column":153}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":17,"column":29},"end":{"line":17,"column":30}},"loc":{"start":{"line":17,"column":41},"end":{"line":108,"column":1}},"line":17},"6":{"name":"TransactionsController","decl":{"start":{"line":18,"column":13},"end":{"line":18,"column":35}},"loc":{"start":{"line":18,"column":38},"end":{"line":20,"column":5}},"line":18},"7":{"name":"debit","decl":{"start":{"line":24,"column":30},"end":{"line":24,"column":35}},"loc":{"start":{"line":24,"column":46},"end":{"line":48,"column":9}},"line":24},"8":{"name":"credit","decl":{"start":{"line":51,"column":30},"end":{"line":51,"column":36}},"loc":{"start":{"line":51,"column":47},"end":{"line":74,"column":9}},"line":51},"9":{"name":"getAll","decl":{"start":{"line":77,"column":30},"end":{"line":77,"column":36}},"loc":{"start":{"line":77,"column":47},"end":{"line":88,"column":9}},"line":77},"10":{"name":"getId","decl":{"start":{"line":91,"column":30},"end":{"line":91,"column":35}},"loc":{"start":{"line":91,"column":46},"end":{"line":104,"column":9}},"line":91}},"branchMap":{"0":{"loc":{"start":{"line":7,"column":168},"end":{"line":7,"column":198}},"type":"binary-expr","locations":[{"start":{"line":7,"column":168},"end":{"line":7,"column":189}},{"start":{"line":7,"column":193},"end":{"line":7,"column":198}}],"line":7},"1":{"loc":{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},"type":"if","locations":[{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},{"start":{"line":7,"column":232},"end":{"line":7,"column":286}}],"line":7},"2":{"loc":{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},"type":"if","locations":[{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},{"start":{"line":7,"column":407},"end":{"line":7,"column":475}}],"line":7},"3":{"loc":{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},"type":"if","locations":[{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},{"start":{"line":7,"column":476},"end":{"line":7,"column":536}}],"line":7},"4":{"loc":{"start":{"line":13,"column":46},"end":{"line":13,"column":92}},"type":"cond-expr","locations":[{"start":{"line":13,"column":70},"end":{"line":13,"column":73}},{"start":{"line":13,"column":76},"end":{"line":13,"column":92}}],"line":13},"5":{"loc":{"start":{"line":13,"column":46},"end":{"line":13,"column":67}},"type":"binary-expr","locations":[{"start":{"line":13,"column":46},"end":{"line":13,"column":49}},{"start":{"line":13,"column":53},"end":{"line":13,"column":67}}],"line":13},"6":{"loc":{"start":{"line":15,"column":50},"end":{"line":15,"column":151}},"type":"if","locations":[{"start":{"line":15,"column":50},"end":{"line":15,"column":151}},{"start":{"line":15,"column":50},"end":{"line":15,"column":151}}],"line":15},"7":{"loc":{"start":{"line":97,"column":16},"end":{"line":99,"column":17}},"type":"if","locations":[{"start":{"line":97,"column":16},"end":{"line":99,"column":17}},{"start":{"line":97,"column":16},"end":{"line":99,"column":17}}],"line":97}},"s":{"0":1,"1":1,"2":1,"3":1,"4":4,"5":4,"6":4,"7":4,"8":4,"9":4,"10":1,"11":1,"12":0,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":0,"20":0,"21":1,"22":0,"23":1,"24":1,"25":1,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":1,"38":1,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":1,"51":1,"52":1,"53":0,"54":0,"55":0,"56":0,"57":1,"58":1,"59":1,"60":0,"61":0,"62":0,"63":0,"64":1,"65":1,"66":1},"f":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":1,"6":0,"7":1,"8":1,"9":1,"10":1},"b":{"0":[4,4],"1":[4,0],"2":[0,1],"3":[1,0],"4":[1,0],"5":[1,1],"6":[0,0],"7":[0,0]},"inputSourceMap":{"version":3,"sources":["transactions.js"],"names":["TransactionsController","req","res","query","data","body","accountnumber","connect","rows","console","log","balance","Number","amount","values","Date","cashier","params","newbalance","status","send","error","rowCount","id"],"mappings":"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","file":"transactions.js","sourceRoot":"C:/Users/TOSHIBA/Documents/Papel/server/controllers","sourcesContent":["\r\nimport connect from '../middleware/connect';\r\n\r\nclass TransactionsController {\r\n\r\n    static async debit(req, res) {\r\n\r\n        let query = 'SELECT newbalance FROM transactions where t_accountnumber = $1 ORDER BY createdon LIMIT 1'\r\n        let data = [req.body.accountnumber]\r\n\r\n        let { rows } = await connect.query(query, data)\r\n        console.log(rows[0])\r\n\r\n        query = `INSERT INTO \r\n        transactions (createdon, cashier, t_accountnumber, transactiontype, amount, oldbalance, newbalance)\r\n        VALUES($1, $2, $3, $4, $5, $6, $7)\r\n        returning *`;\r\n\r\n        let balance = Number(rows[0]) - Number(req.body.amount)\r\n\r\n        const values = [\r\n            new Date(),\r\n            req.body.cashier,\r\n            req.params.accountnumber,\r\n            'debit',\r\n            req.body.amount,\r\n            rows.newbalance,\r\n            balance\r\n        ];\r\n\r\n        try {\r\n            const { rows } = await connect.query(query, values);\r\n            return res.status(201).send(rows[0]);\r\n        } catch (error) {\r\n            return res.status(400).send(error);\r\n        }\r\n    }\r\n\r\n    static async credit(req, res) {\r\n        let query = 'SELECT newbalance FROM transactions where t_accountnumber = $1 ORDER BY createdon LIMIT 1'\r\n        let data = [req.body.accountnumber]\r\n\r\n        let { rows } = await connect.query(query, data)\r\n        console.log(rows[0])\r\n\r\n        query = `INSERT INTO \r\n        transactions (createdon, cashier, t_accountnumber, transactiontype, amount, oldbalance, newbalance)\r\n        VALUES($1, $2, $3, $4, $5, $6, $7)\r\n        returning *`;\r\n\r\n        let balance = Number(rows[0]) - Number(req.body.amount)\r\n\r\n        const values = [\r\n            new Date(),\r\n            req.body.cashier,\r\n            req.params.accountnumber,\r\n            'debit',\r\n            req.body.amount,\r\n            rows.newbalance,\r\n            balance\r\n        ];\r\n\r\n        try {\r\n            const { rows } = await connect.query(query, values);\r\n            return res.status(201).send(rows[0]);\r\n        } catch (error) {\r\n            return res.status(400).send('The action could not be completed');\r\n        }\r\n    }\r\n\r\n    static async getAll(req, res) {\r\n        const query = 'SELECT * FROM transactions';\r\n        try {\r\n            const { rows, rowCount } = await connect.query(query);\r\n            return res.status(200).send({ rows, rowCount });\r\n        } catch (error) {\r\n            return res.status(400).send('The action could not be completed');\r\n        }\r\n    }\r\n\r\n    static async getId(req, res) {\r\n        const query = 'SELECT * FROM transactions WHERE id = $1';\r\n        try {\r\n            const { rows } = await connect.query(query, [req.params.id]);\r\n            if (!rows[0]) {\r\n                return res.status(404).send({ 'message': 'transaction not found' });\r\n            }\r\n            return res.status(200).send(rows[0]);\r\n        } catch (error) {\r\n            return res.status(400).send('The action could not be completed')\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default TransactionsController;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"002221e6ad9818ae13cbc5439300a3e554c9f781","contentHash":"9904200a13bc88f9d2b590636b0ededa350bf8cf51aa9deefc00516f7393fdd1"},"C:\\Users\\TOSHIBA\\Documents\\Papel\\server\\controllers\\accounts.js":{"path":"C:\\Users\\TOSHIBA\\Documents\\Papel\\server\\controllers\\accounts.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":7,"column":19},"end":{"line":7,"column":563}},"2":{"start":{"line":7,"column":76},"end":{"line":7,"column":347}},"3":{"start":{"line":7,"column":89},"end":{"line":7,"column":90}},"4":{"start":{"line":7,"column":134},"end":{"line":7,"column":142}},"5":{"start":{"line":7,"column":144},"end":{"line":7,"column":199}},"6":{"start":{"line":7,"column":200},"end":{"line":7,"column":231}},"7":{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},"8":{"start":{"line":7,"column":259},"end":{"line":7,"column":286}},"9":{"start":{"line":7,"column":287},"end":{"line":7,"column":345}},"10":{"start":{"line":7,"column":350},"end":{"line":7,"column":559}},"11":{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},"12":{"start":{"line":7,"column":423},"end":{"line":7,"column":475}},"13":{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},"14":{"start":{"line":7,"column":493},"end":{"line":7,"column":536}},"15":{"start":{"line":7,"column":537},"end":{"line":7,"column":556}},"16":{"start":{"line":9,"column":15},"end":{"line":9,"column":47}},"17":{"start":{"line":11,"column":16},"end":{"line":11,"column":48}},"18":{"start":{"line":13,"column":39},"end":{"line":13,"column":93}},"19":{"start":{"line":15,"column":50},"end":{"line":15,"column":151}},"20":{"start":{"line":15,"column":92},"end":{"line":15,"column":149}},"21":{"start":{"line":17,"column":25},"end":{"line":82,"column":3}},"22":{"start":{"line":19,"column":8},"end":{"line":19,"column":50}},"23":{"start":{"line":22,"column":4},"end":{"line":79,"column":8}},"24":{"start":{"line":26,"column":24},"end":{"line":26,"column":30}},"25":{"start":{"line":27,"column":25},"end":{"line":27,"column":31}},"26":{"start":{"line":29,"column":12},"end":{"line":35,"column":13}},"27":{"start":{"line":30,"column":16},"end":{"line":30,"column":49}},"28":{"start":{"line":31,"column":16},"end":{"line":31,"column":28}},"29":{"start":{"line":33,"column":16},"end":{"line":33,"column":70}},"30":{"start":{"line":34,"column":16},"end":{"line":34,"column":44}},"31":{"start":{"line":37,"column":12},"end":{"line":45,"column":13}},"32":{"start":{"line":38,"column":27},"end":{"line":38,"column":71}},"33":{"start":{"line":39,"column":27},"end":{"line":39,"column":36}},"34":{"start":{"line":40,"column":31},"end":{"line":40,"column":44}},"35":{"start":{"line":42,"column":16},"end":{"line":42,"column":80}},"36":{"start":{"line":44,"column":16},"end":{"line":44,"column":81}},"37":{"start":{"line":50,"column":24},"end":{"line":50,"column":79}},"38":{"start":{"line":51,"column":12},"end":{"line":61,"column":13}},"39":{"start":{"line":52,"column":28},"end":{"line":52,"column":92}},"40":{"start":{"line":53,"column":27},"end":{"line":53,"column":37}},"41":{"start":{"line":55,"column":16},"end":{"line":57,"column":17}},"42":{"start":{"line":56,"column":20},"end":{"line":56,"column":88}},"43":{"start":{"line":58,"column":16},"end":{"line":58,"column":53}},"44":{"start":{"line":60,"column":16},"end":{"line":60,"column":81}},"45":{"start":{"line":66,"column":24},"end":{"line":66,"column":181}},"46":{"start":{"line":67,"column":12},"end":{"line":77,"column":13}},"47":{"start":{"line":68,"column":28},"end":{"line":68,"column":92}},"48":{"start":{"line":69,"column":27},"end":{"line":69,"column":37}},"49":{"start":{"line":71,"column":16},"end":{"line":73,"column":17}},"50":{"start":{"line":72,"column":20},"end":{"line":72,"column":91}},"51":{"start":{"line":74,"column":16},"end":{"line":74,"column":53}},"52":{"start":{"line":76,"column":16},"end":{"line":76,"column":81}},"53":{"start":{"line":81,"column":4},"end":{"line":81,"column":30}},"54":{"start":{"line":84,"column":0},"end":{"line":84,"column":37}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":19},"end":{"line":7,"column":20}},"loc":{"start":{"line":7,"column":31},"end":{"line":7,"column":561}},"line":7},"1":{"name":"defineProperties","decl":{"start":{"line":7,"column":42},"end":{"line":7,"column":58}},"loc":{"start":{"line":7,"column":74},"end":{"line":7,"column":349}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":7,"column":357},"end":{"line":7,"column":358}},"loc":{"start":{"line":7,"column":405},"end":{"line":7,"column":558}},"line":7},"3":{"name":"_interopRequireDefault","decl":{"start":{"line":13,"column":9},"end":{"line":13,"column":31}},"loc":{"start":{"line":13,"column":37},"end":{"line":13,"column":95}},"line":13},"4":{"name":"_classCallCheck","decl":{"start":{"line":15,"column":9},"end":{"line":15,"column":24}},"loc":{"start":{"line":15,"column":48},"end":{"line":15,"column":153}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":17,"column":25},"end":{"line":17,"column":26}},"loc":{"start":{"line":17,"column":37},"end":{"line":82,"column":1}},"line":17},"6":{"name":"AccountsController","decl":{"start":{"line":18,"column":13},"end":{"line":18,"column":31}},"loc":{"start":{"line":18,"column":34},"end":{"line":20,"column":5}},"line":18},"7":{"name":"getAllAccounts","decl":{"start":{"line":24,"column":30},"end":{"line":24,"column":44}},"loc":{"start":{"line":24,"column":55},"end":{"line":46,"column":9}},"line":24},"8":{"name":"getAccountTransactions","decl":{"start":{"line":49,"column":30},"end":{"line":49,"column":52}},"loc":{"start":{"line":49,"column":63},"end":{"line":62,"column":9}},"line":49},"9":{"name":"getAccountDetails","decl":{"start":{"line":65,"column":30},"end":{"line":65,"column":47}},"loc":{"start":{"line":65,"column":58},"end":{"line":78,"column":9}},"line":65}},"branchMap":{"0":{"loc":{"start":{"line":7,"column":168},"end":{"line":7,"column":198}},"type":"binary-expr","locations":[{"start":{"line":7,"column":168},"end":{"line":7,"column":189}},{"start":{"line":7,"column":193},"end":{"line":7,"column":198}}],"line":7},"1":{"loc":{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},"type":"if","locations":[{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},{"start":{"line":7,"column":232},"end":{"line":7,"column":286}}],"line":7},"2":{"loc":{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},"type":"if","locations":[{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},{"start":{"line":7,"column":407},"end":{"line":7,"column":475}}],"line":7},"3":{"loc":{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},"type":"if","locations":[{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},{"start":{"line":7,"column":476},"end":{"line":7,"column":536}}],"line":7},"4":{"loc":{"start":{"line":13,"column":46},"end":{"line":13,"column":92}},"type":"cond-expr","locations":[{"start":{"line":13,"column":70},"end":{"line":13,"column":73}},{"start":{"line":13,"column":76},"end":{"line":13,"column":92}}],"line":13},"5":{"loc":{"start":{"line":13,"column":46},"end":{"line":13,"column":67}},"type":"binary-expr","locations":[{"start":{"line":13,"column":46},"end":{"line":13,"column":49}},{"start":{"line":13,"column":53},"end":{"line":13,"column":67}}],"line":13},"6":{"loc":{"start":{"line":15,"column":50},"end":{"line":15,"column":151}},"type":"if","locations":[{"start":{"line":15,"column":50},"end":{"line":15,"column":151}},{"start":{"line":15,"column":50},"end":{"line":15,"column":151}}],"line":15},"7":{"loc":{"start":{"line":29,"column":12},"end":{"line":35,"column":13}},"type":"if","locations":[{"start":{"line":29,"column":12},"end":{"line":35,"column":13}},{"start":{"line":29,"column":12},"end":{"line":35,"column":13}}],"line":29},"8":{"loc":{"start":{"line":55,"column":16},"end":{"line":57,"column":17}},"type":"if","locations":[{"start":{"line":55,"column":16},"end":{"line":57,"column":17}},{"start":{"line":55,"column":16},"end":{"line":57,"column":17}}],"line":55},"9":{"loc":{"start":{"line":71,"column":16},"end":{"line":73,"column":17}},"type":"if","locations":[{"start":{"line":71,"column":16},"end":{"line":73,"column":17}},{"start":{"line":71,"column":16},"end":{"line":73,"column":17}}],"line":71}},"s":{"0":1,"1":1,"2":1,"3":1,"4":3,"5":3,"6":3,"7":3,"8":3,"9":3,"10":1,"11":1,"12":0,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":0,"20":0,"21":1,"22":0,"23":1,"24":1,"25":1,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":1,"38":1,"39":1,"40":0,"41":0,"42":0,"43":0,"44":1,"45":1,"46":1,"47":1,"48":0,"49":0,"50":0,"51":0,"52":1,"53":1,"54":1},"f":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":1,"6":0,"7":1,"8":1,"9":1},"b":{"0":[3,3],"1":[3,0],"2":[0,1],"3":[1,0],"4":[1,0],"5":[1,1],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0]},"inputSourceMap":{"version":3,"sources":["accounts.js"],"names":["AccountsController","req","res","query","values","status","connect","rows","rowCount","send","error","params","accountnumber"],"mappings":";;;;;;;;AAAA;;;;;;;;IAEMA,kB;;;;;;;6CAE0BC,G,EAAKC,G,EAAK;;AAElC,gBAAIC,cAAJ;AACA,gBAAIC,eAAJ;;AAEA,gBAAI,CAACH,IAAIE,KAAJ,CAAUE,MAAf,EAAuB;AACnBF,wBAAQ,wBAAR;AACAC,yBAAS,EAAT;AACH,aAHD,MAGO;AACHD,wBAAQ,6CAAR;AACAC,yBAAS,CACLH,IAAIE,KAAJ,CAAUE,MADL,CAAT;AAGH;;AAED,gBAAI;AAAA,2BAC2B,MAAMC,kBAAQH,KAAR,CAAcA,KAAd,EAAqBC,MAArB,CADjC;AAAA,oBACQG,IADR,QACQA,IADR;AAAA,oBACcC,QADd,QACcA,QADd;;AAEA,uBAAON,IAAIG,MAAJ,CAAW,GAAX,EAAgBI,IAAhB,CAAqB,EAAEF,UAAF,EAAQC,kBAAR,EAArB,CAAP;AACH,aAHD,CAGE,OAAOE,KAAP,EAAc;AACZ,uBAAOR,IAAIG,MAAJ,CAAW,GAAX,EAAgBI,IAAhB,CAAqB,mCAArB,CAAP;AACH;AACJ;;;qDAEmCR,G,EAAKC,G,EAAK;AAC1C,gBAAMC,QAAQ,uDAAd;AACA,gBAAI;AAAA,4BACiB,MAAMG,kBAAQH,KAAR,CAAcA,KAAd,EAAqB,CAACF,IAAIU,MAAJ,CAAWC,aAAZ,CAArB,CADvB;AAAA,oBACQL,IADR,SACQA,IADR;;AAEA,oBAAI,CAACA,KAAK,CAAL,CAAL,EAAc;AACV,2BAAOL,IAAIG,MAAJ,CAAW,GAAX,EAAgBI,IAAhB,CAAqB,EAAE,WAAW,uBAAb,EAArB,CAAP;AACH;AACD,uBAAOP,IAAIG,MAAJ,CAAW,GAAX,EAAgBI,IAAhB,CAAqBF,KAAK,CAAL,CAArB,CAAP;AACH,aAND,CAME,OAAOG,KAAP,EAAc;AACZ,uBAAOR,IAAIG,MAAJ,CAAW,GAAX,EAAgBI,IAAhB,CAAqB,mCAArB,CAAP;AACH;AACJ;;;gDAE8BR,G,EAAKC,G,EAAK;AACrC,gBAAMC,QAAQ,6JAAd;AACA,gBAAI;AAAA,4BACiB,MAAMG,kBAAQH,KAAR,CAAcA,KAAd,EAAqB,CAACF,IAAIU,MAAJ,CAAWC,aAAZ,CAArB,CADvB;AAAA,oBACQL,IADR,SACQA,IADR;;AAEA,oBAAI,CAACA,KAAK,CAAL,CAAL,EAAc;AACV,2BAAOL,IAAIG,MAAJ,CAAW,GAAX,EAAgBI,IAAhB,CAAqB,EAAE,WAAW,0BAAb,EAArB,CAAP;AACH;AACD,uBAAOP,IAAIG,MAAJ,CAAW,GAAX,EAAgBI,IAAhB,CAAqBF,KAAK,CAAL,CAArB,CAAP;AACH,aAND,CAME,OAAOG,KAAP,EAAc;AACZ,uBAAOR,IAAIG,MAAJ,CAAW,GAAX,EAAgBI,IAAhB,CAAqB,mCAArB,CAAP;AACH;AACJ;;;;;;kBAIUT,kB","file":"accounts.js","sourceRoot":"C:/Users/TOSHIBA/Documents/Papel/server/controllers","sourcesContent":["import connect from '../middleware/connect';\r\n\r\nclass AccountsController {\r\n\r\n    static async getAllAccounts(req, res) {\r\n\r\n        let query;\r\n        let values;\r\n\r\n        if (!req.query.status) {\r\n            query = 'SELECT * FROM accounts'\r\n            values = []\r\n        } else {\r\n            query = \"SELECT * FROM accounts where status like $1\"\r\n            values = [\r\n                req.query.status\r\n            ]\r\n        }\r\n\r\n        try {\r\n            const { rows, rowCount } = await connect.query(query, values);\r\n            return res.status(200).send({ rows, rowCount });\r\n        } catch (error) {\r\n            return res.status(400).send('The action could not be completed');\r\n        }\r\n    }\r\n\r\n    static async getAccountTransactions(req, res) {\r\n        const query = 'select * from transactions where t_accountnumber = $1';\r\n        try {\r\n            const { rows } = await connect.query(query, [req.params.accountnumber]);\r\n            if (!rows[0]) {\r\n                return res.status(404).send({ 'message': 'no transactions found' });\r\n            }\r\n            return res.status(200).send(rows[0]);\r\n        } catch (error) {\r\n            return res.status(400).send('The action could not be completed')\r\n        }\r\n    }\r\n\r\n    static async getAccountDetails(req, res) {\r\n        const query = 'select a.createdon, a.accountnumber, u.email, a.accounttype, a.status, a.balance from accounts a, users u where a.owner=u.u_userid and a.accountnumber = $1'\r\n        try {\r\n            const { rows } = await connect.query(query, [req.params.accountnumber]);\r\n            if (!rows[0]) {\r\n                return res.status(404).send({ 'message': 'no Account Details found' });\r\n            }\r\n            return res.status(200).send(rows[0]);\r\n        } catch (error) {\r\n            return res.status(400).send('The action could not be completed')\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default AccountsController\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"fd09ad97090a3f8a591b9c0c8dab79ab96b6ea4f","contentHash":"90073323cf24ad44404d645017d98589cbfe33de068e2accb2efdae59d08cf2c"},"C:\\Users\\TOSHIBA\\Documents\\Papel\\server\\controllers\\users.js":{"path":"C:\\Users\\TOSHIBA\\Documents\\Papel\\server\\controllers\\users.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":7,"column":19},"end":{"line":7,"column":563}},"2":{"start":{"line":7,"column":76},"end":{"line":7,"column":347}},"3":{"start":{"line":7,"column":89},"end":{"line":7,"column":90}},"4":{"start":{"line":7,"column":134},"end":{"line":7,"column":142}},"5":{"start":{"line":7,"column":144},"end":{"line":7,"column":199}},"6":{"start":{"line":7,"column":200},"end":{"line":7,"column":231}},"7":{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},"8":{"start":{"line":7,"column":259},"end":{"line":7,"column":286}},"9":{"start":{"line":7,"column":287},"end":{"line":7,"column":345}},"10":{"start":{"line":7,"column":350},"end":{"line":7,"column":559}},"11":{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},"12":{"start":{"line":7,"column":423},"end":{"line":7,"column":475}},"13":{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},"14":{"start":{"line":7,"column":493},"end":{"line":7,"column":536}},"15":{"start":{"line":7,"column":537},"end":{"line":7,"column":556}},"16":{"start":{"line":9,"column":15},"end":{"line":9,"column":47}},"17":{"start":{"line":11,"column":16},"end":{"line":11,"column":48}},"18":{"start":{"line":13,"column":39},"end":{"line":13,"column":93}},"19":{"start":{"line":15,"column":50},"end":{"line":15,"column":151}},"20":{"start":{"line":15,"column":92},"end":{"line":15,"column":149}},"21":{"start":{"line":17,"column":23},"end":{"line":39,"column":3}},"22":{"start":{"line":19,"column":8},"end":{"line":19,"column":48}},"23":{"start":{"line":22,"column":4},"end":{"line":36,"column":8}},"24":{"start":{"line":25,"column":24},"end":{"line":25,"column":108}},"25":{"start":{"line":27,"column":12},"end":{"line":34,"column":13}},"26":{"start":{"line":28,"column":27},"end":{"line":28,"column":83}},"27":{"start":{"line":29,"column":27},"end":{"line":29,"column":36}},"28":{"start":{"line":31,"column":16},"end":{"line":31,"column":53}},"29":{"start":{"line":33,"column":16},"end":{"line":33,"column":81}},"30":{"start":{"line":38,"column":4},"end":{"line":38,"column":28}},"31":{"start":{"line":41,"column":0},"end":{"line":41,"column":35}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":19},"end":{"line":7,"column":20}},"loc":{"start":{"line":7,"column":31},"end":{"line":7,"column":561}},"line":7},"1":{"name":"defineProperties","decl":{"start":{"line":7,"column":42},"end":{"line":7,"column":58}},"loc":{"start":{"line":7,"column":74},"end":{"line":7,"column":349}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":7,"column":357},"end":{"line":7,"column":358}},"loc":{"start":{"line":7,"column":405},"end":{"line":7,"column":558}},"line":7},"3":{"name":"_interopRequireDefault","decl":{"start":{"line":13,"column":9},"end":{"line":13,"column":31}},"loc":{"start":{"line":13,"column":37},"end":{"line":13,"column":95}},"line":13},"4":{"name":"_classCallCheck","decl":{"start":{"line":15,"column":9},"end":{"line":15,"column":24}},"loc":{"start":{"line":15,"column":48},"end":{"line":15,"column":153}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":17,"column":23},"end":{"line":17,"column":24}},"loc":{"start":{"line":17,"column":35},"end":{"line":39,"column":1}},"line":17},"6":{"name":"UsersControllers","decl":{"start":{"line":18,"column":13},"end":{"line":18,"column":29}},"loc":{"start":{"line":18,"column":32},"end":{"line":20,"column":5}},"line":18},"7":{"name":"getUserAccounts","decl":{"start":{"line":24,"column":30},"end":{"line":24,"column":45}},"loc":{"start":{"line":24,"column":56},"end":{"line":35,"column":9}},"line":24}},"branchMap":{"0":{"loc":{"start":{"line":7,"column":168},"end":{"line":7,"column":198}},"type":"binary-expr","locations":[{"start":{"line":7,"column":168},"end":{"line":7,"column":189}},{"start":{"line":7,"column":193},"end":{"line":7,"column":198}}],"line":7},"1":{"loc":{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},"type":"if","locations":[{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},{"start":{"line":7,"column":232},"end":{"line":7,"column":286}}],"line":7},"2":{"loc":{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},"type":"if","locations":[{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},{"start":{"line":7,"column":407},"end":{"line":7,"column":475}}],"line":7},"3":{"loc":{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},"type":"if","locations":[{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},{"start":{"line":7,"column":476},"end":{"line":7,"column":536}}],"line":7},"4":{"loc":{"start":{"line":13,"column":46},"end":{"line":13,"column":92}},"type":"cond-expr","locations":[{"start":{"line":13,"column":70},"end":{"line":13,"column":73}},{"start":{"line":13,"column":76},"end":{"line":13,"column":92}}],"line":13},"5":{"loc":{"start":{"line":13,"column":46},"end":{"line":13,"column":67}},"type":"binary-expr","locations":[{"start":{"line":13,"column":46},"end":{"line":13,"column":49}},{"start":{"line":13,"column":53},"end":{"line":13,"column":67}}],"line":13},"6":{"loc":{"start":{"line":15,"column":50},"end":{"line":15,"column":151}},"type":"if","locations":[{"start":{"line":15,"column":50},"end":{"line":15,"column":151}},{"start":{"line":15,"column":50},"end":{"line":15,"column":151}}],"line":15}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":0,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":0,"20":0,"21":1,"22":0,"23":1,"24":4,"25":4,"26":4,"27":0,"28":0,"29":4,"30":1,"31":1},"f":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":1,"6":0,"7":4},"b":{"0":[1,1],"1":[1,0],"2":[0,1],"3":[1,0],"4":[1,0],"5":[1,1],"6":[0,0]},"inputSourceMap":{"version":3,"sources":["users.js"],"names":["UsersControllers","req","res","query","connect","params","email","rows","status","send","error"],"mappings":";;;;;;;;AAAA;;;;;;;;IAEMA,gB;;;;;;;8CAE2BC,G,EAAKC,G,EAAK;AACnC,gBAAMC,QAAQ,oFAAd;;AAEA,gBAAI;AAAA,2BACiB,MAAMC,kBAAQD,KAAR,CAAcA,KAAd,EAAqB,CAACF,IAAII,MAAJ,CAAWC,KAAZ,CAArB,CADvB;AAAA,oBACQC,IADR,QACQA,IADR;;AAEA,uBAAOL,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBF,KAAK,CAAL,CAArB,CAAP;AACH,aAHD,CAGE,OAAOG,KAAP,EAAc;AACZ,uBAAOR,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,mCAArB,CAAP;AACH;AACJ;;;;;;kBAIUT,gB","file":"users.js","sourceRoot":"C:/Users/TOSHIBA/Documents/Papel/server/controllers","sourcesContent":["import connect from '../middleware/connect';\r\n\r\nclass UsersControllers {\r\n\r\n    static async getUserAccounts(req, res) {\r\n        const query = 'select * from accounts where owner = (select userid from users where email like $1';\r\n\r\n        try {\r\n            const { rows } = await connect.query(query, [req.params.email]);\r\n            return res.status(201).send(rows[0]);\r\n        } catch (error) {\r\n            return res.status(400).send('The action could not be completed');\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default UsersControllers;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5a50d82e70ff231045cd3e99ccedfd7bebc4e3c3","contentHash":"37b02b00103131584ac01d6f06b70a3b62060d18ae8b176b29c000166049b33d"},"C:\\Users\\TOSHIBA\\Documents\\Papel\\server\\controllers\\actions.js":{"path":"C:\\Users\\TOSHIBA\\Documents\\Papel\\server\\controllers\\actions.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":7,"column":19},"end":{"line":7,"column":563}},"2":{"start":{"line":7,"column":76},"end":{"line":7,"column":347}},"3":{"start":{"line":7,"column":89},"end":{"line":7,"column":90}},"4":{"start":{"line":7,"column":134},"end":{"line":7,"column":142}},"5":{"start":{"line":7,"column":144},"end":{"line":7,"column":199}},"6":{"start":{"line":7,"column":200},"end":{"line":7,"column":231}},"7":{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},"8":{"start":{"line":7,"column":259},"end":{"line":7,"column":286}},"9":{"start":{"line":7,"column":287},"end":{"line":7,"column":345}},"10":{"start":{"line":7,"column":350},"end":{"line":7,"column":559}},"11":{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},"12":{"start":{"line":7,"column":423},"end":{"line":7,"column":475}},"13":{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},"14":{"start":{"line":7,"column":493},"end":{"line":7,"column":536}},"15":{"start":{"line":7,"column":537},"end":{"line":7,"column":556}},"16":{"start":{"line":9,"column":15},"end":{"line":9,"column":47}},"17":{"start":{"line":11,"column":16},"end":{"line":11,"column":48}},"18":{"start":{"line":13,"column":12},"end":{"line":13,"column":38}},"19":{"start":{"line":15,"column":13},"end":{"line":15,"column":42}},"20":{"start":{"line":17,"column":39},"end":{"line":17,"column":93}},"21":{"start":{"line":19,"column":50},"end":{"line":19,"column":151}},"22":{"start":{"line":19,"column":92},"end":{"line":19,"column":149}},"23":{"start":{"line":21,"column":24},"end":{"line":192,"column":3}},"24":{"start":{"line":23,"column":8},"end":{"line":23,"column":49}},"25":{"start":{"line":26,"column":4},"end":{"line":189,"column":8}},"26":{"start":{"line":29,"column":12},"end":{"line":31,"column":13}},"27":{"start":{"line":30,"column":16},"end":{"line":30,"column":102}},"28":{"start":{"line":32,"column":12},"end":{"line":34,"column":13}},"29":{"start":{"line":33,"column":16},"end":{"line":33,"column":89}},"30":{"start":{"line":35,"column":12},"end":{"line":37,"column":13}},"31":{"start":{"line":36,"column":16},"end":{"line":36,"column":92}},"32":{"start":{"line":39,"column":12},"end":{"line":41,"column":13}},"33":{"start":{"line":40,"column":16},"end":{"line":40,"column":111}},"34":{"start":{"line":42,"column":31},"end":{"line":42,"column":77}},"35":{"start":{"line":44,"column":24},"end":{"line":44,"column":159}},"36":{"start":{"line":45,"column":25},"end":{"line":45,"column":116}},"37":{"start":{"line":47,"column":12},"end":{"line":58,"column":13}},"38":{"start":{"line":48,"column":27},"end":{"line":48,"column":71}},"39":{"start":{"line":49,"column":27},"end":{"line":49,"column":36}},"40":{"start":{"line":51,"column":28},"end":{"line":51,"column":68}},"41":{"start":{"line":52,"column":16},"end":{"line":52,"column":74}},"42":{"start":{"line":54,"column":16},"end":{"line":56,"column":17}},"43":{"start":{"line":55,"column":20},"end":{"line":55,"column":70}},"44":{"start":{"line":57,"column":16},"end":{"line":57,"column":51}},"45":{"start":{"line":64,"column":12},"end":{"line":66,"column":13}},"46":{"start":{"line":65,"column":16},"end":{"line":65,"column":102}},"47":{"start":{"line":67,"column":12},"end":{"line":69,"column":13}},"48":{"start":{"line":68,"column":16},"end":{"line":68,"column":89}},"49":{"start":{"line":70,"column":12},"end":{"line":72,"column":13}},"50":{"start":{"line":71,"column":16},"end":{"line":71,"column":92}},"51":{"start":{"line":73,"column":24},"end":{"line":73,"column":66}},"52":{"start":{"line":74,"column":25},"end":{"line":74,"column":41}},"53":{"start":{"line":75,"column":12},"end":{"line":89,"column":13}},"54":{"start":{"line":76,"column":28},"end":{"line":76,"column":72}},"55":{"start":{"line":77,"column":27},"end":{"line":77,"column":37}},"56":{"start":{"line":79,"column":16},"end":{"line":81,"column":17}},"57":{"start":{"line":80,"column":20},"end":{"line":80,"column":94}},"58":{"start":{"line":82,"column":16},"end":{"line":84,"column":17}},"59":{"start":{"line":83,"column":20},"end":{"line":83,"column":109}},"60":{"start":{"line":85,"column":28},"end":{"line":85,"column":72}},"61":{"start":{"line":86,"column":16},"end":{"line":86,"column":74}},"62":{"start":{"line":88,"column":16},"end":{"line":88,"column":51}},"63":{"start":{"line":95,"column":12},"end":{"line":97,"column":13}},"64":{"start":{"line":96,"column":16},"end":{"line":96,"column":84}},"65":{"start":{"line":99,"column":24},"end":{"line":99,"column":140}},"66":{"start":{"line":100,"column":25},"end":{"line":100,"column":85}},"67":{"start":{"line":102,"column":12},"end":{"line":109,"column":13}},"68":{"start":{"line":103,"column":28},"end":{"line":103,"column":72}},"69":{"start":{"line":104,"column":27},"end":{"line":104,"column":37}},"70":{"start":{"line":106,"column":16},"end":{"line":106,"column":60}},"71":{"start":{"line":108,"column":16},"end":{"line":108,"column":51}},"72":{"start":{"line":115,"column":12},"end":{"line":117,"column":13}},"73":{"start":{"line":116,"column":16},"end":{"line":116,"column":91}},"74":{"start":{"line":119,"column":24},"end":{"line":119,"column":94}},"75":{"start":{"line":120,"column":25},"end":{"line":120,"column":68}},"76":{"start":{"line":122,"column":12},"end":{"line":129,"column":13}},"77":{"start":{"line":123,"column":28},"end":{"line":123,"column":72}},"78":{"start":{"line":124,"column":27},"end":{"line":124,"column":37}},"79":{"start":{"line":126,"column":16},"end":{"line":126,"column":60}},"80":{"start":{"line":128,"column":16},"end":{"line":128,"column":51}},"81":{"start":{"line":135,"column":12},"end":{"line":137,"column":13}},"82":{"start":{"line":136,"column":16},"end":{"line":136,"column":76}},"83":{"start":{"line":139,"column":24},"end":{"line":139,"column":85}},"84":{"start":{"line":140,"column":25},"end":{"line":140,"column":59}},"85":{"start":{"line":142,"column":12},"end":{"line":149,"column":13}},"86":{"start":{"line":143,"column":28},"end":{"line":143,"column":72}},"87":{"start":{"line":144,"column":27},"end":{"line":144,"column":37}},"88":{"start":{"line":146,"column":16},"end":{"line":146,"column":60}},"89":{"start":{"line":148,"column":16},"end":{"line":148,"column":73}},"90":{"start":{"line":155,"column":12},"end":{"line":157,"column":13}},"91":{"start":{"line":156,"column":16},"end":{"line":156,"column":91}},"92":{"start":{"line":159,"column":24},"end":{"line":159,"column":71}},"93":{"start":{"line":160,"column":25},"end":{"line":160,"column":51}},"94":{"start":{"line":162,"column":12},"end":{"line":167,"column":13}},"95":{"start":{"line":163,"column":16},"end":{"line":163,"column":61}},"96":{"start":{"line":164,"column":16},"end":{"line":164,"column":91}},"97":{"start":{"line":166,"column":16},"end":{"line":166,"column":51}},"98":{"start":{"line":173,"column":12},"end":{"line":175,"column":13}},"99":{"start":{"line":174,"column":16},"end":{"line":174,"column":103}},"100":{"start":{"line":177,"column":24},"end":{"line":177,"column":81}},"101":{"start":{"line":178,"column":25},"end":{"line":178,"column":44}},"102":{"start":{"line":180,"column":12},"end":{"line":187,"column":13}},"103":{"start":{"line":181,"column":28},"end":{"line":181,"column":72}},"104":{"start":{"line":182,"column":27},"end":{"line":182,"column":37}},"105":{"start":{"line":184,"column":16},"end":{"line":184,"column":60}},"106":{"start":{"line":186,"column":16},"end":{"line":186,"column":51}},"107":{"start":{"line":191,"column":4},"end":{"line":191,"column":29}},"108":{"start":{"line":194,"column":0},"end":{"line":194,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":19},"end":{"line":7,"column":20}},"loc":{"start":{"line":7,"column":31},"end":{"line":7,"column":561}},"line":7},"1":{"name":"defineProperties","decl":{"start":{"line":7,"column":42},"end":{"line":7,"column":58}},"loc":{"start":{"line":7,"column":74},"end":{"line":7,"column":349}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":7,"column":357},"end":{"line":7,"column":358}},"loc":{"start":{"line":7,"column":405},"end":{"line":7,"column":558}},"line":7},"3":{"name":"_interopRequireDefault","decl":{"start":{"line":17,"column":9},"end":{"line":17,"column":31}},"loc":{"start":{"line":17,"column":37},"end":{"line":17,"column":95}},"line":17},"4":{"name":"_classCallCheck","decl":{"start":{"line":19,"column":9},"end":{"line":19,"column":24}},"loc":{"start":{"line":19,"column":48},"end":{"line":19,"column":153}},"line":19},"5":{"name":"(anonymous_5)","decl":{"start":{"line":21,"column":24},"end":{"line":21,"column":25}},"loc":{"start":{"line":21,"column":36},"end":{"line":192,"column":1}},"line":21},"6":{"name":"ActionControllers","decl":{"start":{"line":22,"column":13},"end":{"line":22,"column":30}},"loc":{"start":{"line":22,"column":33},"end":{"line":24,"column":5}},"line":22},"7":{"name":"signUp","decl":{"start":{"line":28,"column":30},"end":{"line":28,"column":36}},"loc":{"start":{"line":28,"column":47},"end":{"line":59,"column":9}},"line":28},"8":{"name":"signIn","decl":{"start":{"line":62,"column":30},"end":{"line":62,"column":36}},"loc":{"start":{"line":62,"column":47},"end":{"line":90,"column":9}},"line":62},"9":{"name":"createBankAccount","decl":{"start":{"line":93,"column":30},"end":{"line":93,"column":47}},"loc":{"start":{"line":93,"column":58},"end":{"line":110,"column":9}},"line":93},"10":{"name":"setNewStatus","decl":{"start":{"line":113,"column":30},"end":{"line":113,"column":42}},"loc":{"start":{"line":113,"column":53},"end":{"line":130,"column":9}},"line":113},"11":{"name":"setPriviledge","decl":{"start":{"line":133,"column":30},"end":{"line":133,"column":43}},"loc":{"start":{"line":133,"column":54},"end":{"line":150,"column":9}},"line":133},"12":{"name":"deleteAccount","decl":{"start":{"line":153,"column":30},"end":{"line":153,"column":43}},"loc":{"start":{"line":153,"column":54},"end":{"line":168,"column":9}},"line":153},"13":{"name":"DormantAccounts","decl":{"start":{"line":171,"column":30},"end":{"line":171,"column":45}},"loc":{"start":{"line":171,"column":56},"end":{"line":188,"column":9}},"line":171}},"branchMap":{"0":{"loc":{"start":{"line":7,"column":168},"end":{"line":7,"column":198}},"type":"binary-expr","locations":[{"start":{"line":7,"column":168},"end":{"line":7,"column":189}},{"start":{"line":7,"column":193},"end":{"line":7,"column":198}}],"line":7},"1":{"loc":{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},"type":"if","locations":[{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},{"start":{"line":7,"column":232},"end":{"line":7,"column":286}}],"line":7},"2":{"loc":{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},"type":"if","locations":[{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},{"start":{"line":7,"column":407},"end":{"line":7,"column":475}}],"line":7},"3":{"loc":{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},"type":"if","locations":[{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},{"start":{"line":7,"column":476},"end":{"line":7,"column":536}}],"line":7},"4":{"loc":{"start":{"line":17,"column":46},"end":{"line":17,"column":92}},"type":"cond-expr","locations":[{"start":{"line":17,"column":70},"end":{"line":17,"column":73}},{"start":{"line":17,"column":76},"end":{"line":17,"column":92}}],"line":17},"5":{"loc":{"start":{"line":17,"column":46},"end":{"line":17,"column":67}},"type":"binary-expr","locations":[{"start":{"line":17,"column":46},"end":{"line":17,"column":49}},{"start":{"line":17,"column":53},"end":{"line":17,"column":67}}],"line":17},"6":{"loc":{"start":{"line":19,"column":50},"end":{"line":19,"column":151}},"type":"if","locations":[{"start":{"line":19,"column":50},"end":{"line":19,"column":151}},{"start":{"line":19,"column":50},"end":{"line":19,"column":151}}],"line":19},"7":{"loc":{"start":{"line":29,"column":12},"end":{"line":31,"column":13}},"type":"if","locations":[{"start":{"line":29,"column":12},"end":{"line":31,"column":13}},{"start":{"line":29,"column":12},"end":{"line":31,"column":13}}],"line":29},"8":{"loc":{"start":{"line":29,"column":16},"end":{"line":29,"column":53}},"type":"binary-expr","locations":[{"start":{"line":29,"column":16},"end":{"line":29,"column":31}},{"start":{"line":29,"column":35},"end":{"line":29,"column":53}}],"line":29},"9":{"loc":{"start":{"line":32,"column":12},"end":{"line":34,"column":13}},"type":"if","locations":[{"start":{"line":32,"column":12},"end":{"line":34,"column":13}},{"start":{"line":32,"column":12},"end":{"line":34,"column":13}}],"line":32},"10":{"loc":{"start":{"line":35,"column":12},"end":{"line":37,"column":13}},"type":"if","locations":[{"start":{"line":35,"column":12},"end":{"line":37,"column":13}},{"start":{"line":35,"column":12},"end":{"line":37,"column":13}}],"line":35},"11":{"loc":{"start":{"line":39,"column":12},"end":{"line":41,"column":13}},"type":"if","locations":[{"start":{"line":39,"column":12},"end":{"line":41,"column":13}},{"start":{"line":39,"column":12},"end":{"line":41,"column":13}}],"line":39},"12":{"loc":{"start":{"line":39,"column":16},"end":{"line":39,"column":107}},"type":"binary-expr","locations":[{"start":{"line":39,"column":16},"end":{"line":39,"column":60}},{"start":{"line":39,"column":64},"end":{"line":39,"column":107}}],"line":39},"13":{"loc":{"start":{"line":54,"column":16},"end":{"line":56,"column":17}},"type":"if","locations":[{"start":{"line":54,"column":16},"end":{"line":56,"column":17}},{"start":{"line":54,"column":16},"end":{"line":56,"column":17}}],"line":54},"14":{"loc":{"start":{"line":64,"column":12},"end":{"line":66,"column":13}},"type":"if","locations":[{"start":{"line":64,"column":12},"end":{"line":66,"column":13}},{"start":{"line":64,"column":12},"end":{"line":66,"column":13}}],"line":64},"15":{"loc":{"start":{"line":64,"column":16},"end":{"line":64,"column":53}},"type":"binary-expr","locations":[{"start":{"line":64,"column":16},"end":{"line":64,"column":31}},{"start":{"line":64,"column":35},"end":{"line":64,"column":53}}],"line":64},"16":{"loc":{"start":{"line":67,"column":12},"end":{"line":69,"column":13}},"type":"if","locations":[{"start":{"line":67,"column":12},"end":{"line":69,"column":13}},{"start":{"line":67,"column":12},"end":{"line":69,"column":13}}],"line":67},"17":{"loc":{"start":{"line":70,"column":12},"end":{"line":72,"column":13}},"type":"if","locations":[{"start":{"line":70,"column":12},"end":{"line":72,"column":13}},{"start":{"line":70,"column":12},"end":{"line":72,"column":13}}],"line":70},"18":{"loc":{"start":{"line":79,"column":16},"end":{"line":81,"column":17}},"type":"if","locations":[{"start":{"line":79,"column":16},"end":{"line":81,"column":17}},{"start":{"line":79,"column":16},"end":{"line":81,"column":17}}],"line":79},"19":{"loc":{"start":{"line":82,"column":16},"end":{"line":84,"column":17}},"type":"if","locations":[{"start":{"line":82,"column":16},"end":{"line":84,"column":17}},{"start":{"line":82,"column":16},"end":{"line":84,"column":17}}],"line":82},"20":{"loc":{"start":{"line":95,"column":12},"end":{"line":97,"column":13}},"type":"if","locations":[{"start":{"line":95,"column":12},"end":{"line":97,"column":13}},{"start":{"line":95,"column":12},"end":{"line":97,"column":13}}],"line":95},"21":{"loc":{"start":{"line":95,"column":16},"end":{"line":95,"column":69}},"type":"binary-expr","locations":[{"start":{"line":95,"column":16},"end":{"line":95,"column":31}},{"start":{"line":95,"column":35},"end":{"line":95,"column":49}},{"start":{"line":95,"column":53},"end":{"line":95,"column":69}}],"line":95},"22":{"loc":{"start":{"line":115,"column":12},"end":{"line":117,"column":13}},"type":"if","locations":[{"start":{"line":115,"column":12},"end":{"line":117,"column":13}},{"start":{"line":115,"column":12},"end":{"line":117,"column":13}}],"line":115},"23":{"loc":{"start":{"line":135,"column":12},"end":{"line":137,"column":13}},"type":"if","locations":[{"start":{"line":135,"column":12},"end":{"line":137,"column":13}},{"start":{"line":135,"column":12},"end":{"line":137,"column":13}}],"line":135},"24":{"loc":{"start":{"line":155,"column":12},"end":{"line":157,"column":13}},"type":"if","locations":[{"start":{"line":155,"column":12},"end":{"line":157,"column":13}},{"start":{"line":155,"column":12},"end":{"line":157,"column":13}}],"line":155},"25":{"loc":{"start":{"line":173,"column":12},"end":{"line":175,"column":13}},"type":"if","locations":[{"start":{"line":173,"column":12},"end":{"line":175,"column":13}},{"start":{"line":173,"column":12},"end":{"line":175,"column":13}}],"line":173}},"s":{"0":1,"1":1,"2":1,"3":1,"4":7,"5":7,"6":7,"7":7,"8":7,"9":7,"10":1,"11":1,"12":0,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":2,"21":0,"22":0,"23":1,"24":0,"25":1,"26":3,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":1,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":1,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":1,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":1,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":1,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":1,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":1,"108":1},"f":{"0":1,"1":1,"2":1,"3":2,"4":0,"5":1,"6":0,"7":3,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1},"b":{"0":[7,7],"1":[7,0],"2":[0,1],"3":[1,0],"4":[2,0],"5":[2,2],"6":[0,0],"7":[0,0],"8":[3,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[1,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[1,0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0]},"inputSourceMap":{"version":3,"sources":["actions.js"],"names":["ActionControllers","req","res","body","email","password","status","send","Helper","isValidEmail","isValidPassword","hasNumber","firstname","lastname","hashPassword","query","values","type","connect","rows","token","generateToken","id","error","comparePassword","userid","owner","Date","params","accountnumber"],"mappings":"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","file":"actions.js","sourceRoot":"C:/Users/TOSHIBA/Documents/Papel/server/controllers","sourcesContent":["\r\nimport connect from '../middleware/connect';\r\nimport Helper from '../helpers/auth';\r\n\r\nclass ActionControllers {\r\n\r\n    static async signUp(req, res) {\r\n        if (!req.body.email || !req.body.password) {\r\n            return res.status(400).send({ 'message': 'Enter both email and password correctly' });\r\n        }\r\n        if (!Helper.isValidEmail(req.body.email)) {\r\n            return res.status(400).send({ 'message': 'Please enter a valid email' });\r\n        }\r\n        if (!Helper.isValidPassword(req.body.password)) {\r\n            return res.status(400).send({ 'message': 'Please enter a valid password' })\r\n        }\r\n\r\n        if (Helper.hasNumber(req.body.firstname) || Helper.hasNumber(req.body.lastname)) {\r\n            return res.status(400).send({ 'message': 'First Name or Last Name must not contain numbers' })\r\n        }\r\n        const hashPassword = Helper.hashPassword(req.body.password)\r\n\r\n        const query = `INSERT INTO\r\n        users( email, password, firstname, lastname, type, isadmin)\r\n        VALUES ($1, $2, $3, $4, $5, $6) returning *`;\r\n        const values = [\r\n            req.body.email,\r\n            hashPassword,\r\n            req.body.firstname,\r\n            req.body.lastname,\r\n            req.body.type,\r\n            false\r\n        ];\r\n\r\n        try {\r\n            const { rows } = await connect.query(query, values);\r\n            const token = Helper.generateToken(rows[0].id);\r\n            return res.status(201).send({ token, rows });\r\n        } catch (error) {\r\n            if (error) {\r\n                return res.status(400).send({ 'message': error })\r\n            }\r\n            return res.status(400).send(error);\r\n        }\r\n    }\r\n\r\n    static async signIn(req, res) {\r\n\r\n        if (!req.body.email || !req.body.password) {\r\n            return res.status(400).send({ 'message': 'Enter both email and password correctly' });\r\n        }\r\n        if (!Helper.isValidEmail(req.body.email)) {\r\n            return res.status(400).send({ 'message': 'Please enter a valid email' });\r\n        }\r\n        if (!Helper.isValidPassword(req.body.password)) {\r\n            return res.status(400).send({ 'message': 'Please enter a valid password' })\r\n        }\r\n        const query = \"SELECT * FROM users WHERE email like $1 \";\r\n        const values = [\r\n            req.body.email\r\n        ]\r\n        try {\r\n            const { rows } = await connect.query(query, values);\r\n\r\n            if (!rows[0]) {\r\n                return res.status(400).send({ 'message': 'Create an account to log in' });\r\n            }\r\n            if (!Helper.comparePassword(rows[0].password, req.body.password)) {\r\n                return res.status(400).send({ 'message': 'The credentials you provided are incorrect' });\r\n            }\r\n            const token = Helper.generateToken(rows[0].userid)\r\n            return res.status(200).send({ token, rows });\r\n        } catch (error) {\r\n            return res.status(400).send(error)\r\n        }\r\n    }\r\n\r\n    static async createBankAccount(req, res) {\r\n\r\n        if (!req.body.owner || !req.body.type || !req.body.status) {\r\n            return res.status(400).send({ 'message': 'Check entered details' });\r\n        }\r\n\r\n        const query = `INSERT INTO\r\n        accounts( createdon, owner, accounttype, status)\r\n        VALUES ($1, $2, $3, $4) returning *`;\r\n        const values = [\r\n            new Date(),\r\n            req.body.owner,\r\n            req.body.type,\r\n            req.body.status\r\n        ];\r\n\r\n        try {\r\n            const { rows } = await connect.query(query, values);\r\n            return res.status(201).send({ rows });\r\n        } catch (error) {\r\n            return res.status(400).send(error);\r\n        }\r\n    }\r\n\r\n    static async setNewStatus(req, res) {\r\n\r\n        if (!req.params.accountnumber) {\r\n            return res.status(400).send({ 'message': 'Check entered account number' });\r\n        }\r\n\r\n        const query = `UPDATE accounts SET status = $1 where accountnumber = $2 returning *`;\r\n        const values = [\r\n            req.body.status,\r\n            req.params.accountnumber\r\n        ];\r\n\r\n        try {\r\n            const { rows } = await connect.query(query, values);\r\n            return res.status(201).send({ rows });\r\n        } catch (error) {\r\n            return res.status(400).send(error);\r\n        }\r\n    }\r\n\r\n    static async setPriviledge(req, res) {\r\n\r\n        if (!req.body.userid) {\r\n            return res.status(400).send({ 'message': 'Enter User ID' });\r\n        }\r\n\r\n        const query = `UPDATE users SET isadmin = $1 where userid = $2 returning *`;\r\n        const values = [\r\n            req.params.type,\r\n            req.body.userid\r\n        ];\r\n\r\n        try {\r\n            const { rows } = await connect.query(query, values);\r\n            return res.status(201).send({ rows });\r\n        } catch (error) {\r\n            return res.status(400).send('Check Entered information');\r\n        }\r\n    }\r\n\r\n    static async deleteAccount(req, res) {\r\n\r\n        if (!req.params.accountnumber) {\r\n            return res.status(400).send({ 'message': 'Check entered account number' });\r\n        }\r\n\r\n        const query = `DELETE FROM accounts WHERE accountnumber = $1`;\r\n        const values = [\r\n            req.params.accountnumber\r\n        ];\r\n\r\n        try {\r\n            await connect.query(query, values);\r\n            return res.status(201).send({ 'message': 'Account Successfully Deleted' });\r\n        } catch (error) {\r\n            return res.status(400).send(error);\r\n        }\r\n    }\r\n\r\n    static async DormantAccounts(req, res) {\r\n\r\n        if (!req.params.status) {\r\n            return res.status(400).send({ 'message': 'Check entered Status {active or dormant}' });\r\n        }\r\n\r\n        const query = `select * from accounts where status like $1 returning *`;\r\n        const values = [\r\n            req.params.status,\r\n        ];\r\n\r\n        try {\r\n            const { rows } = await connect.query(query, values);\r\n            return res.status(201).send({ rows });\r\n        } catch (error) {\r\n            return res.status(400).send(error);\r\n        }\r\n    }\r\n}\r\n\r\nexport default ActionControllers;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7838fb69d8906bb34555196a47585a61b78f00bb","contentHash":"6ee4901cc47dbda9b6408fcf2a1aef9e90f06d514302f65b7cf355986d7d0707"},"C:\\Users\\TOSHIBA\\Documents\\Papel\\server\\helpers\\auth.js":{"path":"C:\\Users\\TOSHIBA\\Documents\\Papel\\server\\helpers\\auth.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":7,"column":19},"end":{"line":7,"column":563}},"2":{"start":{"line":7,"column":76},"end":{"line":7,"column":347}},"3":{"start":{"line":7,"column":89},"end":{"line":7,"column":90}},"4":{"start":{"line":7,"column":134},"end":{"line":7,"column":142}},"5":{"start":{"line":7,"column":144},"end":{"line":7,"column":199}},"6":{"start":{"line":7,"column":200},"end":{"line":7,"column":231}},"7":{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},"8":{"start":{"line":7,"column":259},"end":{"line":7,"column":286}},"9":{"start":{"line":7,"column":287},"end":{"line":7,"column":345}},"10":{"start":{"line":7,"column":350},"end":{"line":7,"column":559}},"11":{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},"12":{"start":{"line":7,"column":423},"end":{"line":7,"column":475}},"13":{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},"14":{"start":{"line":7,"column":493},"end":{"line":7,"column":536}},"15":{"start":{"line":7,"column":537},"end":{"line":7,"column":556}},"16":{"start":{"line":9,"column":14},"end":{"line":9,"column":31}},"17":{"start":{"line":11,"column":15},"end":{"line":11,"column":46}},"18":{"start":{"line":13,"column":20},"end":{"line":13,"column":43}},"19":{"start":{"line":15,"column":21},"end":{"line":15,"column":58}},"20":{"start":{"line":17,"column":39},"end":{"line":17,"column":93}},"21":{"start":{"line":19,"column":50},"end":{"line":19,"column":151}},"22":{"start":{"line":19,"column":92},"end":{"line":19,"column":149}},"23":{"start":{"line":21,"column":13},"end":{"line":63,"column":3}},"24":{"start":{"line":23,"column":8},"end":{"line":23,"column":38}},"25":{"start":{"line":26,"column":4},"end":{"line":60,"column":8}},"26":{"start":{"line":29,"column":12},"end":{"line":29,"column":88}},"27":{"start":{"line":34,"column":12},"end":{"line":34,"column":72}},"28":{"start":{"line":39,"column":12},"end":{"line":40,"column":14}},"29":{"start":{"line":45,"column":12},"end":{"line":46,"column":14}},"30":{"start":{"line":51,"column":12},"end":{"line":52,"column":14}},"31":{"start":{"line":57,"column":24},"end":{"line":57,"column":108}},"32":{"start":{"line":58,"column":12},"end":{"line":58,"column":25}},"33":{"start":{"line":62,"column":4},"end":{"line":62,"column":18}},"34":{"start":{"line":65,"column":0},"end":{"line":65,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":19},"end":{"line":7,"column":20}},"loc":{"start":{"line":7,"column":31},"end":{"line":7,"column":561}},"line":7},"1":{"name":"defineProperties","decl":{"start":{"line":7,"column":42},"end":{"line":7,"column":58}},"loc":{"start":{"line":7,"column":74},"end":{"line":7,"column":349}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":7,"column":357},"end":{"line":7,"column":358}},"loc":{"start":{"line":7,"column":405},"end":{"line":7,"column":558}},"line":7},"3":{"name":"_interopRequireDefault","decl":{"start":{"line":17,"column":9},"end":{"line":17,"column":31}},"loc":{"start":{"line":17,"column":37},"end":{"line":17,"column":95}},"line":17},"4":{"name":"_classCallCheck","decl":{"start":{"line":19,"column":9},"end":{"line":19,"column":24}},"loc":{"start":{"line":19,"column":48},"end":{"line":19,"column":153}},"line":19},"5":{"name":"(anonymous_5)","decl":{"start":{"line":21,"column":13},"end":{"line":21,"column":14}},"loc":{"start":{"line":21,"column":25},"end":{"line":63,"column":1}},"line":21},"6":{"name":"Helper","decl":{"start":{"line":22,"column":13},"end":{"line":22,"column":19}},"loc":{"start":{"line":22,"column":22},"end":{"line":24,"column":5}},"line":22},"7":{"name":"hashPassword","decl":{"start":{"line":28,"column":24},"end":{"line":28,"column":36}},"loc":{"start":{"line":28,"column":47},"end":{"line":30,"column":9}},"line":28},"8":{"name":"comparePassword","decl":{"start":{"line":33,"column":24},"end":{"line":33,"column":39}},"loc":{"start":{"line":33,"column":64},"end":{"line":35,"column":9}},"line":33},"9":{"name":"isValidEmail","decl":{"start":{"line":38,"column":24},"end":{"line":38,"column":36}},"loc":{"start":{"line":38,"column":44},"end":{"line":41,"column":9}},"line":38},"10":{"name":"hasNumber","decl":{"start":{"line":44,"column":24},"end":{"line":44,"column":33}},"loc":{"start":{"line":44,"column":40},"end":{"line":47,"column":9}},"line":44},"11":{"name":"isValidPassword","decl":{"start":{"line":50,"column":24},"end":{"line":50,"column":39}},"loc":{"start":{"line":50,"column":50},"end":{"line":53,"column":9}},"line":50},"12":{"name":"generateToken","decl":{"start":{"line":56,"column":24},"end":{"line":56,"column":37}},"loc":{"start":{"line":56,"column":42},"end":{"line":59,"column":9}},"line":56}},"branchMap":{"0":{"loc":{"start":{"line":7,"column":168},"end":{"line":7,"column":198}},"type":"binary-expr","locations":[{"start":{"line":7,"column":168},"end":{"line":7,"column":189}},{"start":{"line":7,"column":193},"end":{"line":7,"column":198}}],"line":7},"1":{"loc":{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},"type":"if","locations":[{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},{"start":{"line":7,"column":232},"end":{"line":7,"column":286}}],"line":7},"2":{"loc":{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},"type":"if","locations":[{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},{"start":{"line":7,"column":407},"end":{"line":7,"column":475}}],"line":7},"3":{"loc":{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},"type":"if","locations":[{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},{"start":{"line":7,"column":476},"end":{"line":7,"column":536}}],"line":7},"4":{"loc":{"start":{"line":17,"column":46},"end":{"line":17,"column":92}},"type":"cond-expr","locations":[{"start":{"line":17,"column":70},"end":{"line":17,"column":73}},{"start":{"line":17,"column":76},"end":{"line":17,"column":92}}],"line":17},"5":{"loc":{"start":{"line":17,"column":46},"end":{"line":17,"column":67}},"type":"binary-expr","locations":[{"start":{"line":17,"column":46},"end":{"line":17,"column":49}},{"start":{"line":17,"column":53},"end":{"line":17,"column":67}}],"line":17},"6":{"loc":{"start":{"line":19,"column":50},"end":{"line":19,"column":151}},"type":"if","locations":[{"start":{"line":19,"column":50},"end":{"line":19,"column":151}},{"start":{"line":19,"column":50},"end":{"line":19,"column":151}}],"line":19}},"s":{"0":1,"1":1,"2":1,"3":1,"4":6,"5":6,"6":6,"7":6,"8":6,"9":6,"10":1,"11":1,"12":0,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":2,"21":0,"22":0,"23":1,"24":0,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1},"f":{"0":1,"1":1,"2":1,"3":2,"4":0,"5":1,"6":0,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1},"b":{"0":[6,6],"1":[6,0],"2":[0,1],"3":[1,0],"4":[0,2],"5":[2,2],"6":[0,0]},"inputSourceMap":{"version":3,"sources":["auth.js"],"names":["Helper","password","bcrypt","hashSync","genSaltSync","hashPassword","compareSync","email","test","name","id","token","jwt","sign","userId","process","env","SECRET","expiresIn"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;;;;;IAEMA,M;;;;;;;qCAEkBC,Q,EAAU;AAC1B,mBAAOC,iBAAOC,QAAP,CAAgBF,QAAhB,EAA0BC,iBAAOE,WAAP,CAAmB,CAAnB,CAA1B,CAAP;AACH;;;wCAEsBC,Y,EAAcJ,Q,EAAU;AAC3C,mBAAOC,iBAAOI,WAAP,CAAmBL,QAAnB,EAA6BI,YAA7B,CAAP;AACH;;;qCAEmBE,K,EAAO;AACvB,mBAAO,gBAAeC,IAAf,CAAoBD,KAApB;AAAP;AACH;;;kCAEgBE,I,EAAM;AACnB,mBAAO,MAAKD,IAAL,CAAUC,IAAV;AAAP;AACH;;;wCAEsBR,Q,EAAU;AAC7B,mBAAO,kBAAiBO,IAAjB,CAAsBP,QAAtB;AAAP;AACH;;;sCAEoBS,E,EAAI;AACrB,gBAAMC,QAAQC,uBAAIC,IAAJ,CAAS,EAAEC,QAAQJ,EAAV,EAAT,EAAyBK,QAAQC,GAAR,CAAYC,MAArC,EAA6C,EAAEC,WAAW,IAAb,EAA7C,CAAd;AACA,mBAAOP,KAAP;AACH;;;;;;kBAGUX,M","file":"auth.js","sourceRoot":"C:/Users/TOSHIBA/Documents/Papel/server/helpers","sourcesContent":["import bcrypt from 'bcrypt';\r\nimport jwt from 'jsonwebtoken';\r\n\r\nclass Helper {\r\n\r\n    static hashPassword(password) {\r\n        return bcrypt.hashSync(password, bcrypt.genSaltSync(8))\r\n    }\r\n\r\n    static comparePassword(hashPassword, password) {\r\n        return bcrypt.compareSync(password, hashPassword);\r\n    }\r\n\r\n    static isValidEmail(email) {\r\n        return /\\S+@\\S+\\.\\S+/.test(email);\r\n    }\r\n\r\n    static hasNumber(name) {\r\n        return /\\d/.test(name);\r\n    }\r\n\r\n    static isValidPassword(password) {\r\n        return /^[0-9a-zA-Z]+$/.test(password)\r\n    }\r\n\r\n    static generateToken(id) {\r\n        const token = jwt.sign({ userId: id }, process.env.SECRET, { expiresIn: '7d' });\r\n        return token;\r\n    }\r\n}\r\n\r\nexport default Helper;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7598bb3c1c2f2028c319dd755c9aa70a6b29b04b","contentHash":"e819ee5ad8cb4cb1cca9befab8ece2c3211de957ae099b08f14087c89059582a"}}